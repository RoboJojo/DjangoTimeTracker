<!DOCTYPE html>
<html lang="en">
{% include "header.html" %}

<body>
    <div class="container">
        <div>
            {% include "navbar.html" %}
        </div>
        <div class="card mt-2">
            <div class="card-header">
                <ul class="nav nav-tabs card-header-tabs" id="nav-tab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link disabled">All Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" id="tableView-tab" data-toggle="tab" href="#tableView" role="tab"
                            aria-controls="nav-tableView" aria-selected="true">Table View</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="chartView-tab" data-toggle="tab" href="#chartView" role="tab"
                            aria-controls="nav-chartView" aria-selected="false">Chart View</a>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="tableView" role="tabpanel"
                        aria-labelledby="tableView-tab">
                        <table class="table table-striped table-bordered table-hover">
                            <caption class="pr-4"> {{allProjects.count}} Project Registered</caption>
                            <thead>
                                <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col"> Project Name </th>
                                    <th scope="col"> Time Spent </th>
                                    <th scope="col"> Start Date </th>
                                    <th scope="col"> People </th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for project in allProjects %}
                                <tr>
                                    <th scope="row"> {{project.ID}} </th>
                                    <td> {{project.name}} </td>

                                    <td> {{project.timeSpent }} </td>
                                    <td> {{project.start_date}} </td>
                                    <td> {% for person in project.people.values %}
                                        {{person.name}} <br>
                                        {% endfor %}
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="chartView" role="tabpanel" aria-labelledby="chartView-tab">
                        <canvas id="chart" width="500" height="400" data-labels="{{chartData.labels}}"
                            data-data="{{chartData.data}}"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% include "footer.html" %}
    {% load static %}
    <script type="text/javascript" src="{% static 'js/Chart.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/projectsChart.js' %}"></script>
</body>

</html>